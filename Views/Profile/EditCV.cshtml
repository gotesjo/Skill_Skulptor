@model SkillSkulptor.Models.ResumeViewModel
@{
    ViewData["Title"] = "Redigera Mitt CV";
}

<form asp-controller="Profile" asp-action="UpdateCV" method="post" enctype="multipart/form-data">
    <div class="container-fluid p-0">

        <!-- CV Information Sektion -->
        <div class="mb-3">
            <label for="Summary" class="form-label">Sammanfattning</label>
            <textarea id="Summary" name="UserCV.Summary" class="form-control" rows="4">@Model.UserCV?.Summary</textarea>
        </div>

        <div class="mb-3">
            <label for="PersonalLetter" class="form-label">Personligt Brev</label>
            <textarea id="PersonalLetter" name="UserCV.PersonalLetter" class="form-control" rows="4">@Model.UserCV?.PersonalLetter</textarea>
        </div>

        <!-- Erfarenheter -->
        <h3>Erfarenheter</h3>
        @foreach (var experience in Model.UserCV.Experiences)
        {
            <div class="mb-3">
                <input type="text" name="experiences[@experience.ExId].Position" value="@experience.Position" class="form-control" placeholder="Position" />
                <input type="text" name="experiences[@experience.ExId].Employer" value="@experience.Employer" class="form-control" placeholder="Arbetsgivare" />
                <input type="date" name="experiences[@experience.ExId].StartDate" value="@experience.StartDate?.ToString("yyyy-MM-dd")" class="form-control" />
                <input type="date" name="experiences[@experience.ExId].EndDate" value="@experience.EndDate?.ToString("yyyy-MM-dd")" class="form-control" />
            </div>
        }

        <!-- Utbildningar -->
        <h3>Utbildning</h3>
        @foreach (var education in Model.UserCV.Educations)
        {
            <div class="mb-3">
                <input type="text" name="educations[@education.EdID].Institution" value="@education.Institution" class="form-control" placeholder="Institution" />
                <input type="text" name="educations[@education.EdID].Course" value="@education.Course" class="form-control" placeholder="Kurs" />
                <input type="text" name="educations[@education.EdID].Degree" value="@education.Degree" class="form-control" placeholder="Examen" />
                <input type="date" name="educations[@education.EdID].StartDate" value="@education.StartDate?.ToString("yyyy-MM-dd")" class="form-control" />
                <input type="date" name="educations[@education.EdID].EndDate" value="@education.EndDate?.ToString("yyyy-MM-dd")" class="form-control" />
            </div>
        }

        <!-- Kvalifikationer -->
        <h3>Färdigheter</h3>
        @foreach (var skill in Model.UserCV.Qualifications)
        {
            <div class="mb-3">
                <input type="text" name="qualifications[@skill.QID].QName" value="@skill.QName" class="form-control" placeholder="Färdighet" />
                <input type="text" name="qualifications[@skill.QID].Description" value="@skill.Description" class="form-control" placeholder="Beskrivning" />
            </div>
        }

        <button type="submit" class="btn btn-primary">Spara Ändringar</button>
    </div>
</form>


